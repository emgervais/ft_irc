==69425== Memcheck, a memory error detector
==69425== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==69425== Using Valgrind-3.22.0.GIT-lbmacos and LibVEX; rerun with -h for copyright info
==69425== Command: ./ircserv 6667 jambon
==69425== Parent PID: 69419
==69425== 
--69425-- UNKNOWN mach_msg unhandled MACH_SEND_TRAILER option
--69425-- UNKNOWN mach_msg unhandled MACH_SEND_TRAILER option (repeated 2 times)
--69425-- UNKNOWN mach_msg unhandled MACH_SEND_TRAILER option (repeated 4 times)
--69425-- UNKNOWN mach_msg unhandled MACH_SEND_TRAILER option (repeated 8 times)
==69425== 
==69425== FILE DESCRIPTORS: 5 open (3 std) at exit.
==69425== Open AF_UNIX socket 8: <unknown>
==69425==    at 0x10082E0D6: socket (in /usr/lib/system/libsystem_kernel.dylib)
==69425==    by 0x1006D39F9: ConnectToServer (in /usr/lib/system/libsystem_dnssd.dylib)
==69425==    by 0x1006D3782: DNSServiceCreateConnection (in /usr/lib/system/libsystem_dnssd.dylib)
==69425==    by 0x1006FCF74: _mdns_search_ex (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x100703CB3: mdns_hostbyaddr (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x100703719: si_host_byaddr (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x100703828: search_host_byaddr (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x100703719: si_host_byaddr (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x1006F9DC9: si_nameinfo (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x1006F96C3: _getnameinfo_interface_internal (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x1006F95DB: getnameinfo (in /usr/lib/system/libsystem_info.dylib)
==69425==    by 0x10001AF5C: getHostName(int) (ClientRegistration.cpp:18)
==69425== 
==69425== Open file descriptor 3: /Users/ele-sage/Desktop/ft_irc/valgrind.log
==69425==    <inherited from parent>
==69425== 
==69425== 
==69425== HEAP SUMMARY:
==69425==     in use at exit: 48,188 bytes in 207 blocks
==69425==   total heap usage: 519 allocs, 312 frees, 192,757 bytes allocated
==69425== 
==69425== 56 bytes in 1 blocks are still reachable in loss record 28 of 83
==69425==    at 0x1002A5775: malloc (in /Users/ele-sage/goinfre/.brew/Cellar/valgrind/HEAD-8c360fc/libexec/valgrind/vgpreload_memcheck-amd64-darwin.so)
==69425==    by 0x10063B0F5: localtime (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x10007573D: getLocalTime() (util.cpp:59)
==69425==    by 0x1000756C7: getUnixTime() (util.cpp:67)
==69425==    by 0x1000012B6: Channel::Channel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, Client const&, Server const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (Channel.cpp:10)
==69425==    by 0x100001834: Channel::Channel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, Client const&, Server const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (Channel.cpp:11)
==69425==    by 0x10006A86D: Server::createChannel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, Client const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (ServerUtils.cpp:53)
==69425==    by 0x100013CE2: Client::joinChannel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (ClientConnection.cpp:36)
==69425==    by 0x10002BBA1: Command::cmdJoin() (Connection.cpp:39)
==69425==    by 0x1000267BA: Command::exec() (Command.cpp:107)
==69425==    by 0x100064A48: Server::handleMsg(int, long) (ServerLoop.cpp:101)
==69425==    by 0x100064012: Server::readFromClient(int) (ServerLoop.cpp:84)
==69425== 
{
   <insert_a_suppression_name_here>
   Memcheck:Leak
   match-leak-kinds: reachable
   fun:malloc
   fun:localtime
   fun:_ZL12getLocalTimev
   fun:_Z11getUnixTimev
   fun:_ZN7ChannelC2ERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEERK6ClientRK6ServerS8_
   fun:_ZN7ChannelC1ERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEERK6ClientRK6ServerS8_
   fun:_ZN6Server13createChannelERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEERK6ClientS8_
   fun:_ZN6Client11joinChannelERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEES8_
   fun:_ZN7Command7cmdJoinEv
   fun:_ZN7Command4execEv
   fun:_ZN6Server9handleMsgEil
   fun:_ZN6Server14readFromClientEi
}
==69425== 4,096 bytes in 1 blocks are still reachable in loss record 81 of 83
==69425==    at 0x1002A5775: malloc (in /Users/ele-sage/goinfre/.brew/Cellar/valgrind/HEAD-8c360fc/libexec/valgrind/vgpreload_memcheck-amd64-darwin.so)
==69425==    by 0x100625367: __smakebuf (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x1006288A6: __srefill0 (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x100628994: __srefill (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x100628A67: __srget (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x100624D1B: getc (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x1002CEBC8: std::__1::__stdinbuf<char>::__getchar(bool) (in /usr/lib/libc++.1.dylib)
==69425==    by 0x10002478E: std::__1::basic_streambuf<char, std::__1::char_traits<char> >::sbumpc() (streambuf:188)
==69425==    by 0x1000215EF: std::__1::basic_istream<char, std::__1::char_traits<char> >& std::__1::getline<char, std::__1::char_traits<char>, std::__1::allocator<char> >(std::__1::basic_istream<char, std::__1::char_traits<char> >&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&, char) (istream:1522)
==69425==    by 0x100064CCC: std::__1::basic_istream<char, std::__1::char_traits<char> >& std::__1::getline<char, std::__1::char_traits<char>, std::__1::allocator<char> >(std::__1::basic_istream<char, std::__1::char_traits<char> >&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >&) (istream:1564)
==69425==    by 0x10006343C: Server::readFromStdin() (ServerLoop.cpp:134)
==69425==    by 0x1000631DB: Server::run() (ServerLoop.cpp:28)
==69425== 
{
   <insert_a_suppression_name_here>
   Memcheck:Leak
   match-leak-kinds: reachable
   fun:malloc
   fun:__smakebuf
   fun:__srefill0
   fun:__srefill
   fun:__srget
   fun:getc
   fun:_ZNSt3__110__stdinbufIcE9__getcharEb
   fun:_ZNSt3__115basic_streambufIcNS_11char_traitsIcEEE6sbumpcEv
   fun:_ZNSt3__17getlineIcNS_11char_traitsIcEENS_9allocatorIcEEEERNS_13basic_istreamIT_T0_EES9_RNS_12basic_stringIS6_S7_T1_EES6_
   fun:_ZNSt3__1L7getlineIcNS_11char_traitsIcEENS_9allocatorIcEEEERNS_13basic_istreamIT_T0_EES9_RNS_12basic_stringIS6_S7_T1_EE
   fun:_ZN6Server13readFromStdinEv
   fun:_ZN6Server3runEv
}
==69425== 18,280 bytes in 1 blocks are still reachable in loss record 83 of 83
==69425==    at 0x1002A88B4: calloc (in /Users/ele-sage/goinfre/.brew/Cellar/valgrind/HEAD-8c360fc/libexec/valgrind/vgpreload_memcheck-amd64-darwin.so)
==69425==    by 0x100639306: tzsetwall_basic (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x10063B130: localtime (in /usr/lib/system/libsystem_c.dylib)
==69425==    by 0x10007573D: getLocalTime() (util.cpp:59)
==69425==    by 0x1000756C7: getUnixTime() (util.cpp:67)
==69425==    by 0x1000012B6: Channel::Channel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, Client const&, Server const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (Channel.cpp:10)
==69425==    by 0x100001834: Channel::Channel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, Client const&, Server const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (Channel.cpp:11)
==69425==    by 0x10006A86D: Server::createChannel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, Client const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (ServerUtils.cpp:53)
==69425==    by 0x100013CE2: Client::joinChannel(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) (ClientConnection.cpp:36)
==69425==    by 0x10002BBA1: Command::cmdJoin() (Connection.cpp:39)
==69425==    by 0x1000267BA: Command::exec() (Command.cpp:107)
==69425==    by 0x100064A48: Server::handleMsg(int, long) (ServerLoop.cpp:101)
==69425== 
{
   <insert_a_suppression_name_here>
   Memcheck:Leak
   match-leak-kinds: reachable
   fun:calloc
   fun:tzsetwall_basic
   fun:localtime
   fun:_ZL12getLocalTimev
   fun:_Z11getUnixTimev
   fun:_ZN7ChannelC2ERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEERK6ClientRK6ServerS8_
   fun:_ZN7ChannelC1ERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEERK6ClientRK6ServerS8_
   fun:_ZN6Server13createChannelERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEERK6ClientS8_
   fun:_ZN6Client11joinChannelERKNSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEES8_
   fun:_ZN7Command7cmdJoinEv
   fun:_ZN7Command4execEv
   fun:_ZN6Server9handleMsgEil
}
==69425== LEAK SUMMARY:
==69425==    definitely lost: 0 bytes in 0 blocks
==69425==    indirectly lost: 0 bytes in 0 blocks
==69425==      possibly lost: 0 bytes in 0 blocks
==69425==    still reachable: 22,432 bytes in 3 blocks
==69425==                       of which reachable via heuristic:
==69425==                         newarray           : 112 bytes in 2 blocks
==69425==         suppressed: 25,756 bytes in 204 blocks
==69425== 
==69425== For lists of detected and suppressed errors, rerun with: -s
==69425== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 23 from 23)
